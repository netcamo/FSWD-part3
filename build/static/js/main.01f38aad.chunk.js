(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{41:function(e,n,t){"use strict";t.r(n);var c=t(1),o=t.n(c),a=t(17),r=t.n(a),i=(t(8),t(3)),u=t(0),s=function(e){var n=e.persons,t=e.filterName,c=e.handleFilterNameChange;console.log(t);var o=""===t?[]:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return Object(u.jsxs)("div",{children:["Filter shown with ",Object(u.jsx)("input",{value:t,onChange:c}),o.map((function(e){return Object(u.jsxs)("p",{children:[e.name," ",e.number]},e.name)}))]})},l=function(e){e.persons;return Object(u.jsx)("div",{})},d=function(e){var n=e.addPerson,t=e.newName,c=e.handleNameChange,o=e.newNumber,a=e.handleNumberChange;return Object(u.jsxs)("form",{onSubmit:n,children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:t,onChange:c})]}),Object(u.jsxs)("div",{children:["number: ",Object(u.jsx)("input",{value:o,onChange:a})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},b=t(4),j=t.n(b),f="/api/notes",h=function(){return j.a.get(f)},m=function(e){return j.a.post(f,e)},O=function(e,n){return j.a.put("".concat(f,"/").concat(e),n)},p=function(e){return j.a.delete("".concat(f,"/").concat(e))},g=function(e){var n=e.person,t=e.deletePerson;return Object(u.jsxs)("div",{children:[n.name,"  ",n.number,Object(u.jsxs)("button",{onClick:function(){return t(n.id)},children:["Delete ",n.id," "]})]})},v=function(e){var n=e.message,t=e.type;return null===n?null:Object(u.jsx)("div",{className:t,children:n})},x=function(){Object(c.useEffect)((function(){console.log("effect");h().then((function(e){console.log("promise fulfilled"),o(e.data)}))}),[]);var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),b=r[0],j=r[1],f=Object(c.useState)(""),x=Object(i.a)(f,2),w=x[0],C=x[1],N=Object(c.useState)(""),y=Object(i.a)(N,2),k=y[0],S=y[1],F=Object(c.useState)(null),P=Object(i.a)(F,2),T=P[0],D=P[1],L=Object(c.useState)(null),A=Object(i.a)(L,2),B=A[0],E=A[1],I=function(e){console.log("Trying to delete"+e),window.confirm("Would you like to delete "+t.filter((function(n){return n.id===e}))[0].name+"?")&&p(e).then((function(){var n=t.filter((function(n){return n.id!==e}));o(n)}))};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(v,{message:T,type:"error"}),Object(u.jsx)(v,{message:B,type:"success"}),Object(u.jsx)(s,{persons:t,filterName:w,handleFilterNameChange:function(e){C(e.target.value)}}),Object(u.jsx)("h3",{children:"Add a new"}),Object(u.jsx)(d,{addPerson:function(e){if(e.preventDefault(),console.log(b,k,""===k),void 0!==t.find((function(e){return e.name===b})))if(""!==k){if(window.confirm("".concat(b," is already added to phonebook, replace the old number with new one ?"))){console.log("Trying to change "+k);var n=t.find((function(e){return e.name===b})).id,c={name:b,number:k};O(n,c).then((function(e){var a=t.filter((function(e){return e.id!==n}));o(a.concat(e.data)),E("Updated ".concat(c.name,"'s number to ").concat(c.number," ")),setTimeout((function(){E(null)}),2e3)})).catch((function(e){D(" ".concat(c.name,"'s is Deleted ")),setTimeout((function(){D(null)}),2e3),h().then((function(e){o(e.data)}))}))}}else window.alert("".concat(b," is already in phonebook"));else if(""===k)window.alert("Number is mandatory");else{var a={name:b,number:k};m(a).then((function(e){o(t.concat(e.data))})),E("Added ".concat(a.name)),setTimeout((function(){E(null)}),2e3)}j(""),S("")},newName:b,handleNameChange:function(e){j(e.target.value)},newNumber:k,handleNumberChange:function(e){S(e.target.value)}}),Object(u.jsx)("h3",{children:"Numbers"}),t.map((function(e){return Object(u.jsx)(g,{person:e,deletePerson:I},e.id)})),Object(u.jsx)(l,{persons:t})]})},w=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,c=n.getFID,o=n.getFCP,a=n.getLCP,r=n.getTTFB;t(e),c(e),o(e),a(e),r(e)}))};r.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root")),w()},8:function(e,n,t){}},[[41,1,2]]]);
//# sourceMappingURL=main.01f38aad.chunk.js.map